<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>Happy Valentine üíï</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    :root {
      --blush: #ffb3c6;
      --rose: #e91e63;
      --lavender: #c9b1ff;
      --mint: #b8e8d4;
      --peach: #ffd6b3;
    }
    
    html, body {
      height: 100%;
      overflow: hidden;
      touch-action: manipulation;
      -webkit-tap-highlight-color: transparent;
    }
    
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, 
        #2d1b2e 0%, 
        #4a2c4a 15%, 
        #ffcce0 35%, 
        #ffb3c6 50%, 
        #e91e63 70%, 
        #c2185b 85%, 
        #1a0a12 100%);
      background-size: 400% 400%;
      animation: roseGradient 20s ease infinite;
      color: #fff;
      position: relative;
    }
    
    @keyframes roseGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    /* Morphing gradient orbs - gen-z aesthetic */
    .orb {
      position: fixed;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.6;
      pointer-events: none;
      z-index: 0;
    }
    
    .orb-1 {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, var(--rose) 0%, transparent 70%);
      top: -150px;
      left: -100px;
      animation: floatOrb 12s ease-in-out infinite;
    }
    
    .orb-2 {
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, var(--lavender) 0%, transparent 70%);
      bottom: -100px;
      right: -80px;
      animation: floatOrb 15s ease-in-out infinite reverse;
      animation-delay: -3s;
    }
    
    .orb-3 {
      width: 250px;
      height: 250px;
      background: radial-gradient(circle, var(--peach) 0%, transparent 70%);
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: pulseOrb 8s ease-in-out infinite;
    }
    
    @keyframes floatOrb {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(30px, -30px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.95); }
    }
    
    @keyframes pulseOrb {
      0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
      50% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.3); }
    }
    
    /* Floating blob shapes */
    .blob {
      position: fixed;
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
      opacity: 0.2;
      pointer-events: none;
      z-index: 0;
      animation: morphBlob 10s ease-in-out infinite;
    }
    
    .blob-1 {
      width: 200px;
      height: 200px;
      background: var(--blush);
      top: 20%;
      right: 10%;
    }
    
    .blob-2 {
      width: 150px;
      height: 150px;
      background: var(--mint);
      bottom: 30%;
      left: 5%;
      animation-delay: -5s;
    }
    
    @keyframes morphBlob {
      0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }
      50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }
    }
    
    /* Petals - CSS SVG-style */
    .petals-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }
    
    .petal {
      position: absolute;
      width: 14px;
      height: 20px;
      background: linear-gradient(160deg, #ffb3c6 0%, #ff6b9d 40%, #c2185b 100%);
      border-radius: 50% 50% 45% 0;
      opacity: 0.9;
      transform-origin: bottom center;
      animation: fallPetal linear forwards;
      box-shadow: 
        0 1px 3px rgba(0,0,0,0.2),
        0 0 12px rgba(255, 107, 157, 0.4),
        inset 1px 1px 0 rgba(255,255,255,0.3);
    }
    
    .petal::before {
      content: '';
      position: absolute;
      top: 30%;
      left: 50%;
      width: 1px;
      height: 50%;
      background: linear-gradient(to bottom, rgba(194,24,91,0.4), transparent);
      transform: translateX(-50%);
      border-radius: 1px;
    }
    
    .petal:nth-child(odd) {
      background: linear-gradient(160deg, #ffcce0 0%, #ff8fa3 40%, #e91e63 100%);
    }
    
    @keyframes fallPetal {
      0% {
        transform: translateY(-5%) rotate(0deg) translateX(0);
        opacity: 0.9;
      }
      100% {
        transform: translateY(105vh) rotate(1080deg) translateX(50px);
        opacity: 0.2;
      }
    }
    
    /* Valentine proposal overlay */
    .tap-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(180deg, rgba(255, 182, 193, 0.25) 0%, rgba(201, 177, 255, 0.2) 50%, rgba(255, 192, 203, 0.3) 100%);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: opacity 0.6s ease, backdrop-filter 0.6s;
      padding: 20px;
      padding-bottom: env(safe-area-inset-bottom, 20px);
      padding-top: env(safe-area-inset-top, 20px);
    }
    
    .tap-overlay.hidden {
      opacity: 0;
      pointer-events: none;
      backdrop-filter: blur(0);
    }
    
    .valentine-card {
      background: linear-gradient(135deg, rgba(255, 218, 230, 0.5) 0%, rgba(255, 192, 203, 0.4) 50%, rgba(230, 230, 250, 0.45) 100%);
      border: 2px solid rgba(255, 182, 193, 0.6);
      border-radius: 32px;
      padding: 45px 35px;
      text-align: center;
      animation: cardGlow 3s ease-in-out infinite;
      max-width: 380px;
      position: relative;
    }
    
    @keyframes cardGlow {
      0%, 100% { box-shadow: 0 0 30px rgba(233, 30, 99, 0.2); }
      50% { box-shadow: 0 0 50px rgba(201, 177, 255, 0.3); }
    }
    
    .proposal-question {
      font-size: clamp(1.5rem, 5vw, 2.2rem);
      font-weight: 600;
      color: #c2185b;
      line-height: 1.5;
      margin-bottom: 35px;
      letter-spacing: 0.02em;
    }
    
    .proposal-name {
      font-size: clamp(1.6rem, 5.5vw, 2.4rem);
      font-weight: 700;
      background: linear-gradient(135deg, #e91e63, #ff6b9d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .buttons-row {
      display: flex;
      gap: 20px;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      position: relative;
      min-height: 55px;
    }
    
    .btn-yes {
      padding: 14px 36px;
      font-size: 1.3rem;
      font-weight: 600;
      border: none;
      border-radius: 30px;
      background: linear-gradient(135deg, #e91e63, #ff6b9d);
      color: #fff;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(233, 30, 99, 0.4);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    
    .btn-yes:hover, .btn-yes:active {
      transform: scale(1.08);
      box-shadow: 0 6px 28px rgba(233, 30, 99, 0.5);
    }
    
    .btn-no {
      padding: 12px 28px;
      font-size: 1.2rem;
      border: 2px solid rgba(150, 150, 150, 0.5);
      border-radius: 30px;
      background: rgba(255, 255, 255, 0.6);
      color: #666;
      cursor: pointer;
      transition: left 0.25s ease, right 0.25s ease;
      position: absolute;
      white-space: nowrap;
      right: 15%;
    }
    
    .btn-no.on-left {
      right: auto;
      left: 15%;
    }
    
    .btn-no:hover {
      background: rgba(255, 240, 245, 0.9);
    }
    
    .rose-img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 4px 20px rgba(233, 30, 99, 0.4)) drop-shadow(0 0 30px rgba(255, 107, 157, 0.3));
    }
    
    .main-content .rose-img {
      filter: drop-shadow(0 6px 25px rgba(233, 30, 99, 0.5)) drop-shadow(0 0 40px rgba(255, 107, 157, 0.35));
    }
    
    @keyframes bounceIcon {
      0%, 100% { transform: scale(1) rotate(-5deg); }
      50% { transform: scale(1.15) rotate(5deg); }
    }
    
    .i-love-you {
      opacity: 0;
      transform: translateY(20px);
      font-family: 'Brush Script MT', 'Lucida Calligraphy', 'Segoe Script', cursive;
      font-size: clamp(2rem, 6vw, 2.8rem);
      font-weight: 600;
      margin-top: 25px;
      background: linear-gradient(135deg, #e91e63, #ff6b9d, #ffd700);
      background-size: 200% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: loveShimmer 4s ease-in-out infinite;
      letter-spacing: 0.05em;
    }
    
    @keyframes loveShimmer {
      0%, 100% { background-position: 0% center; }
      50% { background-position: 200% center; }
    }
    
    /* Main content */
    .main-content {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 5;
      padding: 30px;
      padding-bottom: calc(30px + env(safe-area-inset-bottom));
      padding-top: calc(30px + env(safe-area-inset-top));
    }
    
    .main-content > * {
      opacity: 0;
      transform: translateY(30px);
    }
    
    .main-content.revealed .rose-icon {
      animation: rosePop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }
    
    .main-content.revealed .title {
      animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s forwards;
    }
    
    .main-content.revealed .message-box {
      animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s forwards;
    }
    
    .main-content.revealed .i-love-you {
      animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.6s forwards;
    }
    
    @keyframes rosePop {
      0% { opacity: 0; transform: scale(0) translateY(30px); }
      70% { transform: scale(1.2) translateY(0); }
      100% { opacity: 1; transform: scale(1) translateY(0); }
    }
    
    @keyframes slideUp {
      to { opacity: 1; transform: translateY(0); }
    }
    
    .main-content .rose-icon {
      width: clamp(90px, 22vw, 130px);
      height: clamp(90px, 22vw, 130px);
      margin-bottom: 15px;
    }
    
    .main-content.revealed .rose-icon {
      animation: rosePop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                 heartbeat 2s ease-in-out 1s infinite;
    }
    
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      15% { transform: scale(1.1); }
      30% { transform: scale(1); }
      45% { transform: scale(1.05); }
      60% { transform: scale(1); }
    }
    
    .title {
      font-size: clamp(2rem, 6.5vw, 3.2rem);
      font-weight: 700;
      background: linear-gradient(90deg, #ff6b9d, #ffb3c6, #c9b1ff, #ff6b9d);
      background-size: 300% auto;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: center;
      margin-bottom: 25px;
      letter-spacing: -0.02em;
    }
    
    .main-content.revealed .title {
      animation: slideUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s forwards,
                 gradientFlow 4s linear infinite;
    }
    
    @keyframes gradientFlow {
      to { background-position: 300% center; }
    }
    
    .message-box {
      background: linear-gradient(135deg, rgba(255, 218, 230, 0.35) 0%, rgba(255, 240, 245, 0.25) 50%, rgba(255, 228, 236, 0.3) 100%);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      border: 2px solid rgba(255, 182, 193, 0.4);
      border-radius: 32px;
      padding: 28px 32px;
      max-width: 420px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    
    .message-box::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--rose), var(--lavender), transparent);
      opacity: 0.6;
    }
    
    .message-box::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(255,182,193,0.4), transparent);
    }
    
    .message {
      font-size: clamp(1rem, 3.2vw, 1.15rem);
      line-height: 1.9;
      color: rgba(255,255,255,0.9);
      font-weight: 400;
    }
    
    .signature {
      font-size: clamp(1.2rem, 3.5vw, 1.4rem);
      background: linear-gradient(90deg, var(--blush), var(--peach));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-top: 22px;
      font-weight: 600;
    }
    
    /* Confetti */
    .confetti-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 100;
      overflow: hidden;
    }
    
    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      top: 50%;
      left: 50%;
      opacity: 0;
      animation: confettiBurst 1.5s ease-out forwards;
    }
    
    .confetti.heart {
      font-size: 16px;
      width: auto;
      height: auto;
    }
    
    .confetti.rose {
      font-size: 14px;
      width: auto;
      height: auto;
    }
    
    /* Sparkles */
    .sparkle {
      position: fixed;
      width: 4px;
      height: 4px;
      background: #fff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 2;
      animation: sparkleFloat 4s ease-in-out infinite;
      box-shadow: 0 0 8px rgba(255,255,255,0.8), 0 0 15px rgba(255, 182, 193, 0.5);
    }
    
    @keyframes sparkleFloat {
      0%, 100% { opacity: 0; transform: scale(0); }
      20% { opacity: 1; transform: scale(1); }
      80% { opacity: 0.8; transform: scale(1) translateY(-20px); }
      100% { opacity: 0; transform: scale(0) translateY(-30px); }
    }
    
    /* Pandas */
    .pandas-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 3;
      overflow: hidden;
    }
    
    .panda {
      position: absolute;
      font-size: 36px;
      transition: transform 0.1s ease-out;
      filter: drop-shadow(0 2px 8px rgba(0,0,0,0.2));
    }
    
    .panda.female {
      font-size: 40px;
    }
    
    .panda.female::after {
      content: 'üíï';
      position: absolute;
      top: -8px;
      right: -5px;
      font-size: 14px;
    }
    
    @keyframes confettiBurst {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(0) rotate(0deg);
      }
      20% {
        opacity: 1;
        transform: translate(
          calc(-50% + var(--tx)),
          calc(-50% + var(--ty))
        ) scale(1) rotate(180deg);
      }
      100% {
        opacity: 0;
        transform: translate(
          calc(-50% + var(--tx) * 1.5),
          calc(-50% + var(--ty) * 1.5 + 100px)
        ) scale(0.5) rotate(720deg);
      }
    }
  </style>
</head>
<body>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>
  <div class="blob blob-1"></div>
  <div class="blob blob-2"></div>
  
  <div class="pandas-container" id="pandasContainer">
    <div class="panda female" id="femalePanda">üêº</div>
    <div class="panda male" id="malePanda">üêº</div>
  </div>
  <div class="petals-container" id="petals"></div>
  <div id="sparkles"></div>
  <div class="confetti-container" id="confetti"></div>
  
  <div class="tap-overlay" id="tapOverlay">
    <div class="valentine-card">
      <p class="proposal-question">Will you be my Valentine, <span class="proposal-name">Ish</span>? ‚ù§Ô∏è</p>
      <div class="buttons-row">
        <button class="btn-yes" id="btnYes">Yes üíï</button>
        <button class="btn-no" id="btnNo">No üò¢</button>
      </div>
    </div>
  </div>
  
  <div class="main-content" id="mainContent">
    <div class="rose-icon">
      <img class="rose-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 240'%3E%3Cdefs%3E%3ClinearGradient id='pgm' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ffcce0'/%3E%3Cstop offset='40%25' style='stop-color:%23ff6b9d'/%3E%3Cstop offset='100%25' style='stop-color:%23ad1457'/%3E%3C/linearGradient%3E%3ClinearGradient id='pgm2' x1='0%25' y1='0%25' x2='0%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23ffb3c6'/%3E%3Cstop offset='100%25' style='stop-color:%23c2185b'/%3E%3C/linearGradient%3E%3CradialGradient id='cgm' cx='50%25' cy='50%25' r='50%25'%3E%3Cstop offset='0%25' style='stop-color:%23ffd54f'/%3E%3Cstop offset='100%25' style='stop-color:%23c2185b'/%3E%3C/radialGradient%3E%3ClinearGradient id='sgm' x1='0%25' y1='100%25' x2='0%25' y2='0%25'%3E%3Cstop offset='0%25' style='stop-color:%231b5e20'/%3E%3Cstop offset='100%25' style='stop-color:%234caf50'/%3E%3C/linearGradient%3E%3Cfilter id='shadow2'%3E%3CfeDropShadow dx='0' dy='6' stdDeviation='8' flood-color='%23ad1457' flood-opacity='0.6'/%3E%3C/filter%3E%3C/defs%3E%3Cg transform='translate(100 90)' filter='url(%23shadow2)'%3E%3Cellipse cx='0' cy='-25' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-15)' opacity='0.95'/%3E%3Cellipse cx='-22' cy='-12' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-55)' opacity='0.92'/%3E%3Cellipse cx='-18' cy='12' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-95)' opacity='0.92'/%3E%3Cellipse cx='0' cy='22' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-135)' opacity='0.95'/%3E%3Cellipse cx='22' cy='12' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-175)' opacity='0.92'/%3E%3Cellipse cx='18' cy='-12' rx='18' ry='12' fill='url(%23pgm)' transform='rotate(-215)' opacity='0.92'/%3E%3Cellipse cx='0' cy='-18' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-15)' opacity='0.9'/%3E%3Cellipse cx='-14' cy='-8' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-50)' opacity='0.88'/%3E%3Cellipse cx='-10' cy='8' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-90)' opacity='0.88'/%3E%3Cellipse cx='0' cy='16' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-130)' opacity='0.9'/%3E%3Cellipse cx='14' cy='8' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-170)' opacity='0.88'/%3E%3Cellipse cx='10' cy='-8' rx='14' ry='10' fill='url(%23pgm2)' transform='rotate(-210)' opacity='0.88'/%3E%3Cellipse cx='0' cy='-10' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-15)' opacity='0.95'/%3E%3Cellipse cx='-8' cy='-4' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-45)' opacity='0.92'/%3E%3Cellipse cx='-6' cy='4' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-85)' opacity='0.92'/%3E%3Cellipse cx='0' cy='8' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-125)' opacity='0.95'/%3E%3Cellipse cx='8' cy='4' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-165)' opacity='0.92'/%3E%3Cellipse cx='6' cy='-4' rx='10' ry='7' fill='url(%23pgm2)' transform='rotate(-205)' opacity='0.92'/%3E%3Ccircle cx='0' cy='0' r='8' fill='url(%23cgm)'/%3E%3C/g%3E%3Cpath d='M100 115 Q98 160 100 220' stroke='url(%23sgm)' stroke-width='5' fill='none' stroke-linecap='round'/%3E%3Cellipse cx='88' cy='170' rx='12' ry='6' fill='%232e7d32' transform='rotate(-35 88 170)'/%3E%3Cellipse cx='112' cy='185' rx='12' ry='6' fill='%23388e3c' transform='rotate(25 112 185)'/%3E%3Cellipse cx='95' cy='195' rx='10' ry='5' fill='%232e7d32' transform='rotate(-10 95 195)'/%3E%3C/svg%3E" alt="Rose"/>
    </div>
    <h1 class="title">Happy Valentine's Day</h1>
    <div class="message-box">
      <p class="message">
        Every day with you feels like a beautiful love story. 
        You make my world brighter with your smile, your laughter, and your presence. 
        Thank you for being you‚Äîfor every moment we share, every dream we chase together. 
        You are my favorite person, my happy place, my forever üíï
      </p>
      <p class="i-love-you">I love you Ish ‚ù§Ô∏è</p>
    </div>
  </div>

  <script>
    // CSS Petals - modern teardrop shapes
    const container = document.getElementById('petals');
    
    function createPetal() {
      const petal = document.createElement('div');
      petal.className = 'petal';
      petal.style.left = Math.random() * 100 + '%';
      petal.style.animationDuration = (6 + Math.random() * 8) + 's';
      petal.style.animationDelay = Math.random() * 4 + 's';
      container.appendChild(petal);
      
      petal.addEventListener('animationend', () => petal.remove());
    }
    
    for (let i = 0; i < 12; i++) {
      setTimeout(createPetal, i * 350);
    }
    setInterval(() => {
      if (container.children.length < 20) createPetal();
    }, 2500);
    
    // Sparkles
    const sparklesEl = document.getElementById('sparkles');
    function addSparkle() {
      const s = document.createElement('div');
      s.className = 'sparkle';
      s.style.left = Math.random() * 100 + '%';
      s.style.top = Math.random() * 100 + '%';
      s.style.animationDelay = Math.random() * 2 + 's';
      s.style.animationDuration = (3 + Math.random() * 3) + 's';
      sparklesEl.appendChild(s);
      setTimeout(() => s.remove(), 5000);
    }
    setInterval(addSparkle, 800);
    
    // Confetti burst on reveal
    const confettiColors = ['#ff6b9d', '#ffb3c6', '#c9b1ff', '#b8e8d4', '#ffd6b3', '#e91e63'];
    const confettiEmojis = ['üíï', 'üå∏', '‚ú®', 'üåπ', 'üíñ', 'üíó', 'ü©∑', 'üíù'];
    
    function burstConfetti() {
      const confettiEl = document.getElementById('confetti');
      const count = 40;
      
      for (let i = 0; i < count; i++) {
        const c = document.createElement('div');
        c.className = 'confetti';
        const angle = (i / count) * Math.PI * 2 + Math.random();
        const dist = 150 + Math.random() * 150;
        const tx = Math.cos(angle) * dist;
        const ty = Math.sin(angle) * dist;
        
        c.style.setProperty('--tx', tx + 'px');
        c.style.setProperty('--ty', ty + 'px');
        
        if (i < 15) {
          c.classList.add('heart');
          c.textContent = confettiEmojis[i % confettiEmojis.length];
        } else {
          c.style.background = confettiColors[i % confettiColors.length];
          c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
        }
        
        c.style.animationDelay = (i * 0.02) + 's';
        confettiEl.appendChild(c);
        
        setTimeout(() => c.remove(), 1600);
      }
    }
    
    // Yes / No buttons
    const tapOverlay = document.getElementById('tapOverlay');
    const mainContent = document.getElementById('mainContent');
    const btnYes = document.getElementById('btnYes');
    const btnNo = document.getElementById('btnNo');
    const buttonsRow = document.querySelector('.buttons-row');
    
    function moveNoButton() {
      btnNo.classList.toggle('on-left');
    }
    
    btnNo.addEventListener('mouseenter', moveNoButton);
    btnNo.addEventListener('touchstart', (e) => {
      e.preventDefault();
      moveNoButton();
    }, { passive: false });
    
    btnYes.addEventListener('click', reveal);
    btnYes.addEventListener('touchend', (e) => {
      e.preventDefault();
      reveal();
    }, { passive: false });
    
    function reveal() {
      burstConfetti();
      tapOverlay.classList.add('hidden');
      mainContent.classList.add('revealed');
      document.body.style.overflow = 'auto';
    }
    
    // Pandas - chase & tilt physics
    const femalePanda = document.getElementById('femalePanda');
    const malePanda = document.getElementById('malePanda');
    const pandasContainer = document.getElementById('pandasContainer');
    
    let fx = 0, fy = 0, mx = 0, my = 0;
    let fvx = 1.5, fvy = 0.8;
    let mvx = 0, mvy = 0;
    let tiltX = 0, tiltY = 0;
    let lastAcc = { x: 0, y: 0 };
    let lastShake = 0;
    
    const PANDA_SIZE = 44;
    const CHASE_SPEED = 1.2;
    const TILT_FACTOR = 0.8;
    const SHAKE_THRESHOLD = 15;
    
    function initPandas() {
      const w = window.innerWidth;
      const h = window.innerHeight;
      fx = w * 0.3;
      fy = h * 0.4;
      mx = w * 0.2;
      my = h * 0.5;
    }
    
    initPandas();
    window.addEventListener('resize', initPandas);
    
    function updatePandas() {
      const w = window.innerWidth;
      const h = window.innerHeight;
      
      // Female wanders & bounces off edges
      fx += fvx;
      fy += fvy;
      if (fx < 20 || fx > w - PANDA_SIZE - 20) fvx *= -1;
      if (fy < 60 || fy > h - PANDA_SIZE - 20) fvy *= -1;
      fx = Math.max(20, Math.min(w - PANDA_SIZE - 20, fx));
      fy = Math.max(60, Math.min(h - PANDA_SIZE - 20, fy));
      
      // Occasional direction change (playful)
      if (Math.random() < 0.008) {
        fvx += (Math.random() - 0.5) * 0.5;
        fvy += (Math.random() - 0.5) * 0.5;
        fvx = Math.max(-2.5, Math.min(2.5, fvx));
        fvy = Math.max(-2, Math.min(2, fvy));
      }
      
      // Male chases female
      const dx = fx - mx;
      const dy = fy - my;
      const dist = Math.sqrt(dx*dx + dy*dy) || 1;
      mvx += (dx / dist) * CHASE_SPEED * 0.15;
      mvy += (dy / dist) * CHASE_SPEED * 0.15;
      mvx *= 0.92;
      mvy *= 0.92;
      mx += mvx;
      my += mvy;
      mx = Math.max(20, Math.min(w - PANDA_SIZE - 20, mx));
      my = Math.max(60, Math.min(h - PANDA_SIZE - 20, my));
      
      // Apply tilt (device rotation) - pandas fall toward tilt direction
      mx += tiltX;
      my += tiltY;
      fx += tiltX * 1.1;
      fy += tiltY * 1.1;
      
      // Keep in bounds
      fx = Math.max(20, Math.min(w - PANDA_SIZE - 20, fx));
      fy = Math.max(60, Math.min(h - PANDA_SIZE - 20, fy));
      mx = Math.max(20, Math.min(w - PANDA_SIZE - 20, mx));
      my = Math.max(60, Math.min(h - PANDA_SIZE - 20, my));
      
      femalePanda.style.left = fx + 'px';
      femalePanda.style.top = fy + 'px';
      femalePanda.style.transform = `scaleX(${fvx >= 0 ? 1 : -1})`;
      malePanda.style.left = mx + 'px';
      malePanda.style.top = my + 'px';
      malePanda.style.transform = `scaleX(${mvx >= 0 ? 1 : -1})`;
    }
    
    // Device motion - tilt
    let motionHandlerAdded = false;
    function addMotionHandler() {
      if (motionHandlerAdded) return;
      motionHandlerAdded = true;
      const handleMotion = (e) => {
        const acc = e.accelerationIncludingGravity || e.acceleration || {};
        const ax = (acc.x || 0) * 0.5;
        const ay = (acc.y || 0) * 0.5;
        tiltX = ax * TILT_FACTOR;
        tiltY = ay * TILT_FACTOR;
        
        const now = Date.now();
        if (now - lastShake > 300) {
          const delta = Math.abs(ax - lastAcc.x) + Math.abs(ay - lastAcc.y);
          if (delta > SHAKE_THRESHOLD) {
            lastShake = now;
            mvx += ax * 3;
            mvy += ay * 3;
            fvx += ax * 2;
            fvy += ay * 2;
          }
        }
        lastAcc = { x: ax, y: ay };
      };
      window.addEventListener('devicemotion', handleMotion);
    }
    
    if (typeof DeviceMotionEvent !== 'undefined') {
      if (typeof DeviceMotionEvent.requestPermission === 'function') {
        btnYes.addEventListener('click', () => {
          DeviceMotionEvent.requestPermission()
            .then(p => p === 'granted' && addMotionHandler())
            .catch(() => {});
        });
      } else {
        addMotionHandler();
      }
    }
    
    function pandaLoop() {
      updatePandas();
      requestAnimationFrame(pandaLoop);
    }
    pandaLoop();
  </script>
</body>
</html>
